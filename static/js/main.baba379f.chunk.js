(this["webpackJsonpharvard-art-viewer"]=this["webpackJsonpharvard-art-viewer"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(7),a=n.n(i),o=n(3),s=n(2),u="89ce3864-c616-46cd-975c-c1ddb256d505",l="https://api.harvardartmuseums.org",j=n(0);var d=function(e){var t=e.record,n=e.databaseConnected;return void 0===t.primaryimageurl||null===t.primaryimageurl?null:Object(j.jsxs)("div",{className:"ui card",children:[Object(j.jsx)("div",{className:"image",children:Object(j.jsx)("img",{src:t.primaryimageurl,alt:t.title+" image"})}),Object(j.jsxs)("div",{className:"content",children:[Object(j.jsx)("h3",{className:"header",children:t.title}),Object(j.jsxs)("div",{className:"objectnumber",children:[Object(j.jsx)("strong",{children:"Object Number:"})," ",t.objectnumber]}),Object(j.jsx)("div",{className:"description",children:t.classification})]}),n?Object(j.jsxs)("div",{className:"ui bottom attached button",children:[Object(j.jsx)("i",{className:"add icon"}),"Add Favorite"]}):null]})},b=n(8);var h=function(e){var t=e.artInfo,n=e.artRecords,c=e.handleNext,r=e.databaseConnected,i=null===n||void 0===n?void 0:n.map((function(e){return Object(j.jsx)(d,{record:e,databaseConnected:r},Object(b.a)())}));return Object(j.jsxs)("div",{children:[Object(j.jsx)("br",{}),Object(j.jsx)("h2",{className:"ui header",children:Object(j.jsxs)("em",{children:["Showing ",null===n||void 0===n?void 0:n.length," of ",null===t||void 0===t?void 0:t.totalrecords," Works"]})}),Object(j.jsx)("div",{className:"ui four cards",children:i}),(null===n||void 0===n?void 0:n.length)>=(null===t||void 0===t?void 0:t.totalrecords)?null:Object(j.jsx)("button",{className:"ui primary button",onClick:function(){return c()},style:{marginTop:"15px"},children:"Load More..."})]})};var m=function(e){var t=e.handleCategoryChange,n=e.handleFilterClick,r=e.resetItems,i=e.itemList,a=e.handleKeywordSearch,o=Object(c.useState)("object"),u=Object(s.a)(o,2),l=u[0],d=u[1],b=Object(c.useState)(""),h=Object(s.a)(b,2),m=h[0],f=h[1],v=null===i||void 0===i?void 0:i.map((function(e){return Object(j.jsx)("div",{className:"column",style:{cursor:"pointer"},onClick:function(){return t(e.parentCategory,e.id,e.name)},children:null===e||void 0===e?void 0:e.name},e.id)}));function O(e){var t=e.target.name;if("object"===t)r();else{if("search"===t)return a(m);"favorites"===t?console.log("FAVORITES - NOT IMPLEMENTED"):n(t)}d(t)}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"ui icon input",style:{width:"300px"},children:[Object(j.jsx)("input",{type:"text",placeholder:"Search...",onChange:function(e){return f(e.target.value)},value:m}),Object(j.jsx)("i",{className:"search icon"})]}),Object(j.jsx)("button",{className:"ui button",name:"search",onClick:function(e){return O(e)},children:"Search"}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:"ui buttons",children:[Object(j.jsx)("button",{className:"object"===l?"ui positive button":"ui button",onClick:function(e){return O(e)},name:"object",children:"All Objects"}),Object(j.jsx)("button",{className:"classification"===l?"ui positive button":"ui button",onClick:function(e){return O(e)},name:"classification",children:"Classification"}),Object(j.jsx)("button",{className:"century"===l?"ui positive button":"ui button",onClick:function(e){return O(e)},name:"century",children:"Century"}),Object(j.jsx)("button",{className:"gallery"===l?"ui positive button":"ui button",onClick:function(e){return O(e)},name:"gallery",children:"Gallery"}),Object(j.jsx)("button",{className:"favorites"===l?"ui positive button":"ui button",onClick:function(e){return O(e)},name:"favorites",children:"Favorites"})]}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsx)("div",{className:"ui four column grid",children:v||null})]})},f=n.p+"static/media/ham-explorer.d67647c2.png";var v=function(){return Object(j.jsx)("header",{children:Object(j.jsx)("img",{src:f,alt:"ham-explorer",style:{maxWidth:"100%",height:"auto"}})})};var O=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)([]),a=Object(s.a)(i,2),d=a[0],b=a[1],f=Object(c.useState)(16),O=Object(s.a)(f,2),x=O[0],p=O[1],g=Object(c.useState)([]),y=Object(s.a)(g,2),N=y[0],C=y[1],k=Object(c.useState)(!1),S=Object(s.a)(k,2),w=S[0];S[1],Object(c.useEffect)((function(){fetch("".concat(l,"/object?hasimage=1&size=100&apikey=").concat(u)).then((function(e){return e.json()})).then((function(e){r((function(t){return e.info}));var t=e.records.filter((function(e){return null!==e.primaryimageurl&&void 0!==e.primaryimageurl}));b((function(e){return Object(o.a)(t)}))}))}),[]);var I=d.slice(0,x);return Object(j.jsxs)("div",{style:{textAlign:"center"},children:[Object(j.jsx)(v,{}),Object(j.jsx)(m,{handleCategoryChange:function(e,t,n){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;console.log(e,t),fetch("".concat(l,"/object?").concat(e,"=").concat("century"===e?n:t,"&hasimage=1&size=").concat(c,"&apikey=").concat(u)).then((function(e){return e.json()})).then((function(e){console.log(e),b(e.records),r(e.info)}))},handleFilterClick:function(e){fetch("".concat(l,"/").concat(e,"?&size=1000&apikey=").concat(u)).then((function(e){return e.json()})).then((function(t){var n=t.records;n.forEach((function(t){t.parentCategory=e}));var c=n.sort((function(e,t){return e.name.localeCompare(t.name)}));C(c),p((function(){return 16}))}))},resetItems:function(){fetch("".concat(l,"/object?hasimage=1&size=incrementVisible&apikey=").concat(u)).then((function(e){return e.json()})).then((function(e){C([]),p(16)}))},itemList:N,handleKeywordSearch:function(e){fetch("".concat(l,"/object?keyword=").concat(e,"&hasimage=1&size=100&apikey=").concat(u)).then((function(e){return e.json()})).then((function(e){var t=e.records.filter((function(e){return null!==e.primaryimageurl&&void 0!==e.primaryimageurl}));[].concat(Object(o.a)(d),Object(o.a)(t));b(e.records),r(e.info),p((function(){return 16}))}))}}),Object(j.jsx)(h,{artInfo:n,artRecords:I,handleNext:function(){if(p((function(e){return e+16})),x>=parseInt(n.totalrecords))return!0;x>=d.length&&fetch(n.next).then((function(e){return e.json()})).then((function(e){var t=e.records.filter((function(e){return null!==e.primaryimageurl&&void 0!==e.primaryimageurl})),n=[].concat(Object(o.a)(d),Object(o.a)(t));b((function(){return n})),r((function(){return e.info}))}))},databaseConnected:w})]})};n(14),n(15);a.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(O,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.baba379f.chunk.js.map